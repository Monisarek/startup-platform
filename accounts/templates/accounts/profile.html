{% extends 'accounts/base.html' %}
{% load static %}

{% block title %}–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è{% endblock %}

{% block head_extra %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'accounts/css/profile.css' %}?v={% now 'U' %}" />
  {# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã, –µ—Å–ª–∏ –Ω—É–∂–Ω—ã –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã, —É–∂–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤ base.html –∏–ª–∏ global.css #}
  {# <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Unbounded:wght@300;400&display=swap" /> #}
  {# <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@700&display=swap" /> #}
  {# <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Circe:wght@400&display=swap" /> #}
{% endblock %}

{% block content %}
<div class="profile-page-wrapper">
    <img class="profile-main-banner" src="{% static 'accounts/images/profile/profile_spacebg.webp' %}" alt="–ë–∞–Ω–Ω–µ—Ä –ø—Ä–æ—Ñ–∏–ª—è" />
    <div class="profile-content-container">
        <div class="profile-sidebar">
            <div class="profile-sidebar-user-info-block">
                <div class="profile-sidebar-avatar-wrapper" id="avatarClickableArea" style="cursor: pointer;" title="–ò–∑–º–µ–Ω–∏—Ç—å –∞–≤–∞—Ç–∞—Ä">
                    <img class="profile-sidebar-avatar-img" src="{% if user.profile_picture_url %}{{ user.profile_picture_url }}{% else %}{% static 'accounts/images/avatars/default_avatar_ufo.png' %}{% endif %}" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
                </div>
                <div class="profile-sidebar-text-details">
                    <div class="profile-sidebar-name-role">
                        <div class="profile-sidebar-name">
                            <span>{{ user.first_name|default:"–ò–º—è" }}</span>
                            <span>{{ user.last_name|default:"–§–∞–º–∏–ª–∏—è" }}</span>
                        </div>
                        <div class="profile-sidebar-role">
                            <span>
                                {% if user.role.role_name == "startuper" %}–°—Ç–∞—Ä—Ç–∞–ø–µ—Ä
                                {% elif user.role.role_name == "investor" %}–ò–Ω–≤–µ—Å—Ç–æ—Ä
                                {% elif user.role.role_name == "moderator" %}–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä
                                {% elif user.role.role_name == "administrator" %}–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
                                {% else %}{{ user.role.role_name|default:"–†–æ–ª—å –Ω–µ —É–∫–∞–∑–∞–Ω–∞" }}{% endif %}
                            </span>
                        </div>
                        <div class="profile-sidebar-id">
                            <span>ID {{ user.user_id|default:"–ù–µ —É–∫–∞–∑–∞–Ω" }}</span>
                            <div class="profile-sidebar-copy-icon" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID">
                                <div class="profile-sidebar-copy-icon-inner1"></div>
                                <div class="profile-sidebar-copy-icon-inner2"></div>
                            </div>
                        </div>
                    </div>
                    <div class="profile-sidebar-bio">{{ user.bio|default:"–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç."}}</div>
                    {% if user.website_url %}
                    <div class="profile-sidebar-website">
                        <img src="{% static 'accounts/images/profile/Globe_Line.svg' %}" alt="Website" class="profile-sidebar-website-icon-img">
                        <a href="{{ user.website_url }}" target="_blank" class="profile-sidebar-website-link">{{ user.website_url }}</a>
                    </div>
    {% endif %}
                </div>
            </div>
            <div class="profile-sidebar-social-icons-round">
                <div class="profile-sidebar-social-icon-round-item">
                    <img src="{% static 'accounts/images/profile/share_icon.svg' %}" alt="Share" class="profile-sidebar-social-icon-img">
                </div>
                <div class="profile-sidebar-social-icon-round-item">
                     <img src="{% static 'accounts/images/profile/dots.svg' %}" alt="More options" class="profile-sidebar-social-icon-img">
                </div>
            </div>
            
        {% if is_own_profile %}
            <div class="profile-avatar-upload-section" style="display: none;"> {# –°–∫—Ä—ã–≤–∞–µ–º —ç—Ç–æ—Ç –±–ª–æ–∫, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º —Ñ–æ—Ä–º—É –¥–ª—è JS #}
                <h4>–ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä–∫—É</h4>
                <form method="post" enctype="multipart/form-data" id="avatarUploadForm" class="avatar-upload-form">
                {% csrf_token %}
                    <input type="file" name="avatar" accept="image/*" required id="id_avatar_input" class="file-input-hidden">
                    <button type="button" onclick="document.getElementById('id_avatar_input').click();" class="btn btn-secondary choose-file-btn">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</button>
                    <div id="fileNameDisplay" class="file-name-display">–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
                    <button type="submit" class="btn btn-primary upload-btn">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
            </form>
            </div>
        {% endif %}

            <a href="#" class="profile-sidebar-my-galaxy-btn">
                <div class="profile-sidebar-my-galaxy-btn-text">–ú–æ—è –ì–∞–ª–∞–∫—Ç–∏–∫–∞</div>
            </a>
            
            <div class="profile-sidebar-social-icons-row">
                <img class="profile-sidebar-social-icon-row-item-img" src="{% static 'accounts/images/profile/vk_icon_social.svg' %}" alt="VK" />
                <img class="profile-sidebar-social-icon-row-item-img" src="{% static 'accounts/images/profile/linkedin_icon_social.svg' %}" alt="LinkedIn" />
            </div>
            <div class="profile-sidebar-divider"></div>
            <div class="profile-sidebar-date-joined">–ù–∞ –ø–ª–æ—â–∞–¥–∫–µ —Å {{ user.created_at|date:"d M Y"|default:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ" }}</div>
        </div>

        <div class="profile-main-content">
        {% if is_own_profile %}
            <div class="profile-main-edit-btn-container">
                <a href="#" class="profile-main-edit-btn" id="editProfileBtn">
                    <div class="profile-main-edit-btn-text">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</div>
                    <img src="{% static 'accounts/images/profile/Edit_Line.svg' %}" alt="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å" class="profile-main-edit-btn-icon"/>
                </a>
            </div>
        {% endif %}
        <div id="profileViewBlock">
            <div class="profile-main-startups-section">
                <div class="profile-main-tabs">
                    <div class="profile-main-tab-item active-tab" data-tab="startups">–°—Ç–∞—Ä—Ç–∞–ø—ã</div>
                    <div class="profile-main-tab-item" data-tab="news">–ù–æ–≤–æ—Å—Ç–∏</div>
                </div>
                
                <div class="profile-main-content-tab active-content" id="startupsContent">
                    <!-- –ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 1 -->
                    <div class="profile-main-startup-card-item">
                        <div class="profile-main-startup-card-content">
                            <div class="profile-main-startup-info">
                                <div class="profile-main-startup-name">–†–æ–º–∞—à–∫–∞ (–ú–∞–∫–µ—Ç)</div>
                                <div class="profile-main-startup-rating-reviews">
                                    <span class="profile-main-startup-rating">–†–µ–π—Ç–∏–Ω–≥ 4.2/5 (534)</span>
                                    <div class="profile-main-startup-reviews">
                                        <img src="{% static 'accounts/images/profile/chat_icon.svg' %}" alt="Reviews" class="profile-main-startup-review-icon-img">
                                        <span>17</span>
                                    </div>
                                </div>
                            </div>
                            <div class="profile-main-startup-category-progress">
                                <div class="profile-main-startup-category-tag">–ú–µ–¥–∏—Ü–∏–Ω–∞</div>
                                <div class="progress-bar-and-text-container">
                                    <div class="profile-main-startup-progress-bar-bg">
                                         <div class="profile-main-startup-progress-bar-fg" style="width: 65%;"></div>
                                    </div>
                                    <span class="profile-main-startup-progress-text">65%</span>
                                </div>
                            </div>
                            <a href="#" class="btn btn-primary profile-main-startup-details-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        </div>
                        <img class="profile-main-startup-image" src="{% static 'accounts/images/profile/Rectangle_4196.png' %}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø–∞" />
                    </div>
                    <div class="profile-main-startup-list-divider"></div>
                    <!-- /–ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 1 -->

                    <!-- –ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 2 -->
                    <div class="profile-main-startup-card-item">
                        <div class="profile-main-startup-card-content">
                            <div class="profile-main-startup-info">
                                <div class="profile-main-startup-name">–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –õ–∏—Ñ—Ç (–ú–∞–∫–µ—Ç)</div>
                                <div class="profile-main-startup-rating-reviews">
                                    <span class="profile-main-startup-rating">–†–µ–π—Ç–∏–Ω–≥ 4.8/5 (1203)</span>
                                    <div class="profile-main-startup-reviews">
                                        <img src="{% static 'accounts/images/profile/chat_icon.svg' %}" alt="Reviews" class="profile-main-startup-review-icon-img">
                                        <span>42</span>
                                    </div>
                                </div>
                            </div>
                            <div class="profile-main-startup-category-progress">
                                <div class="profile-main-startup-category-tag">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</div>
                                <div class="progress-bar-and-text-container">
                                    <div class="profile-main-startup-progress-bar-bg">
                                         <div class="profile-main-startup-progress-bar-fg" style="width: 85%;"></div>
                                    </div>
                                    <span class="profile-main-startup-progress-text">85%</span>
                                </div>
                            </div>
                            <a href="#" class="btn btn-primary profile-main-startup-details-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        </div>
                        <img class="profile-main-startup-image" src="{% static 'accounts/images/profile/Rectangle_4196.png' %}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø–∞" />
                    </div>
                    <div class="profile-main-startup-list-divider"></div>
                    <!-- /–ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 2 -->
                    
                    <!-- –ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 3 -->
                    <div class="profile-main-startup-card-item">
                        <div class="profile-main-startup-card-content">
                            <div class="profile-main-startup-info">
                                <div class="profile-main-startup-name">–í–µ—á–Ω–∞—è –ë–∞—Ç–∞—Ä–µ–π–∫–∞ (–ú–∞–∫–µ—Ç)</div>
                                <div class="profile-main-startup-rating-reviews">
                                    <span class="profile-main-startup-rating">–†–µ–π—Ç–∏–Ω–≥ 3.9/5 (250)</span>
                                    <div class="profile-main-startup-reviews">
                                        <img src="{% static 'accounts/images/profile/chat_icon.svg' %}" alt="Reviews" class="profile-main-startup-review-icon-img">
                                        <span>9</span>
                                    </div>
                                </div>
                            </div>
                            <div class="profile-main-startup-category-progress">
                                <div class="profile-main-startup-category-tag">–≠–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞</div>
                                <div class="progress-bar-and-text-container">
                                    <div class="profile-main-startup-progress-bar-bg">
                                         <div class="profile-main-startup-progress-bar-fg" style="width: 40%;"></div>
                                    </div>
                                    <span class="profile-main-startup-progress-text">40%</span>
                                </div>
                            </div>
                            <a href="#" class="btn btn-primary profile-main-startup-details-btn">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                        </div>
                        <img class="profile-main-startup-image" src="{% static 'accounts/images/profile/Rectangle_4196.png' %}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø–∞" />
                    </div>
                    <!-- /–ú–∞–∫–µ—Ç —Å—Ç–∞—Ä—Ç–∞–ø–∞ 3 -->
                </div>

                <div class="profile-main-content-tab" id="newsContent">
                    {# –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∏–ª–µ–π –æ—Ç—Å—Ç—É–ø–æ–≤, —Ç–µ–Ω–∏ –∏–∑ Figma, —Ç–µ–ø–µ—Ä—å —Å—Ç–∏–ª–∏ –≤ CSS —á–µ—Ä–µ–∑ #newsContent #}
                    <div class="profile-news-items-container">
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–õ—É—á—à–∏–µ —Ä–∞–∫–µ—Ç—ã –∏–ª–∏ —Ç—É—Ä–±–æ —Ä–µ–∂–∏–º –Ω–∞ –ª–∞–π—Ç–µ (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ù–∞—à —Å—Ç–∞—Ä—Ç–∞–ø —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–õ—É—á—à–∏–µ —Ä–∞–∫–µ—Ç—ã –∏–ª–∏ —Ç—É—Ä–±–æ —Ä–µ–∂–∏–º –Ω–∞ –ª–∞–π—Ç–µ 2 (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ù–∞—à —Å—Ç–∞—Ä—Ç–∞–ø —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                         <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–õ—É—á—à–∏–µ —Ä–∞–∫–µ—Ç—ã –∏–ª–∏ —Ç—É—Ä–±–æ —Ä–µ–∂–∏–º –Ω–∞ –ª–∞–π—Ç–µ 3 (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ù–∞—à —Å—Ç–∞—Ä—Ç–∞–ø —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–ù–æ–≤–æ—Å—Ç—å 4: –≠–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤—ã (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–û–±—Å—É–∂–¥–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–µ–Ω–¥—ã –≤ —Å—Ñ–µ—Ä–µ –∑–µ–ª–µ–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –∏—Ö –≤–ª–∏—è–Ω–∏–µ... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–ù–æ–≤–æ—Å—Ç—å 5: –ü—Ä–æ—Ä—ã–≤ –≤ AI (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ù–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω—è—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏—é... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–ù–æ–≤–æ—Å—Ç—å 6: –§–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤ (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ö–∞–∫ –ø—Ä–∏–≤–ª–µ—á—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç –≤ —Ç–µ–∫—É—â–∏—Ö —É—Å–ª–æ–≤–∏—è—Ö —Ä—ã–Ω–∫–∞... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <div class="profile-news-card-item">
                            <img src="{% static 'accounts/images/startups/inside_cards_background.webp' %}" alt="–ù–æ–≤–æ—Å—Ç—å"/>
                            <div class="profile-news-card-title">–ù–æ–≤–æ—Å—Ç—å 7: –ë—É–¥—É—â–µ–µ –∫–æ—Å–º–æ—Ç—É—Ä–∏–∑–º–∞ (–ú–∞–∫–µ—Ç)</div>
                            <div class="profile-news-card-description">–ê–Ω–∞–ª–∏–∑ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤ –∏ –≤—ã–∑–æ–≤–æ–≤ –¥–ª—è —á–∞—Å—Ç–Ω—ã—Ö –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–∞–Ω–∏–π... (–ú–∞–∫–µ—Ç)</div>
                        </div>
                        <!-- –î–æ–±–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –∑–¥–µ—Å—å, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ -->
                    </div>
                </div>
            </div>
        </div>
        <div id="profileEditBlock" style="display:none;">
            <div class="profile-edit-wrapper">
                <div class="profile-edit-header-block">
                    <div class="profile-edit-title">–ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</div>
                    <div class="profile-edit-desc">–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å URL —Å–∞–π—Ç–∞ –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤–∞—à–∏ —Å–æ—Ü —Å–µ—Ç–∏, —á—Ç–æ–±—ã –¥—Ä—É–≥–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–º–æ–≥–ª–∏ –±–æ–ª—å—à–µ —É–∑–Ω–∞—Ç—å –æ –≤–∞—Å</div>
                </div>
                <div class="profile-edit-main-row">
                    <div class="profile-edit-avatar-col">
                        <div class="profile-edit-avatar-wrapper">
                            <img src="{% static 'accounts/images/icons/image_placeholder.svg' %}" alt="–ê–≤–∞—Ç–∞—Ä" class="profile-edit-avatar-img"/>
                        </div>
                        <div class="profile-edit-avatar-info">
                            <div class="profile-edit-avatar-label">Profile photo</div>
                            <div class="profile-edit-avatar-hint">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è <br>–ø–æ —Ä–∞–∑–º–µ—Ä—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 400—Ö400 üôå</div>
                            <div class="profile-edit-avatar-btn">–û–±–Ω–æ–≤–∏—Ç—å</div>
                        </div>
                    </div>
                    <div class="profile-edit-fields-col">
                        <div class="profile-edit-section">
                            <div class="profile-edit-section-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—Ñ–∏–ª—è</div>
                            <div class="profile-edit-field">
                                <div class="profile-edit-field-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</div>
                                <div class="profile-edit-input profile-edit-input-text" contenteditable="true" data-placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"></div>
                            </div>
                            <div class="profile-edit-field">
                                <div class="profile-edit-field-label">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –∏–ª–∏ —Å–∞–π—Ç</div>
                                <div class="profile-edit-input profile-edit-input-text" contenteditable="true" data-placeholder="URL"></div>
                            </div>
                            <div class="profile-edit-field">
                                <div class="profile-edit-field-label">–û–±–æ –º–Ω–µ</div>
                                <div class="profile-edit-input profile-edit-input-textarea" contenteditable="true" data-placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—Å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö"></div>
                                <div class="profile-edit-char-counter">50/50</div>
                            </div>
                        </div>
                        <div class="profile-edit-section">
                            <div class="profile-edit-section-title">–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</div>
                            <div class="profile-edit-field">
                                <div class="profile-edit-field-label profile-edit-field-label-sm">telegram</div>
                                <div class="profile-edit-input-social">
                                    <span class="profile-edit-input-at">@</span>
                                    <span class="profile-edit-input-social-placeholder">telegram username</span>
                                    <div class="profile-edit-social-add-btn">–î–æ–±–∞–≤–∏—Ç—å</div>
                                </div>
                            </div>
                            <div class="profile-edit-add-social-btn">
                                <img src="{% static 'accounts/images/profile/add-circle-outline.svg' %}" alt="–î–æ–±–∞–≤–∏—Ç—å" class="profile-edit-add-social-icon"/>
                                <span>–î–æ–±–∞–≤–∏—Ç—å –µ—â–µ –∞–∫–∫–∞—É–Ω—Ç</span>
                            </div>
                        </div>
                        <div class="profile-edit-hint">–ß—Ç–æ–±—ã –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –ø–æ–¥–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Å–≤–æ–π –∫–æ—à–µ–ª–µ–∫. –ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å", –∑–∞—Ç–µ–º –ø–æ–¥–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ</div>
                        <div class="profile-edit-divider"></div>
                        <div class="profile-edit-actions">
                            <div class="profile-edit-save-btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–π</div>
                            <div class="profile-edit-clear-btn">
                                <img src="{% static 'accounts/images/profile/close_circle.svg' %}" alt="–û—á–∏—Å—Ç–∏—Ç—å" class="profile-edit-clear-icon"/>
                                <span>–û—á–∏—Å—Ç–∏—Ç—å</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ fadeIn/fadeOut, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏ –∑–¥–µ—Å—å

    const avatarClickableArea = document.getElementById('avatarClickableArea');
    const avatarInput = document.getElementById('id_avatar_input');
    const avatarUploadForm = document.getElementById('avatarUploadForm');

    if (avatarClickableArea && avatarInput && avatarUploadForm) {
        avatarClickableArea.addEventListener('click', function() {
            avatarInput.click();
        });

        avatarInput.addEventListener('change', function() {
            if (this.files && this.files.length > 0) {
                avatarUploadForm.submit();
            } 
        });
    }

    // –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∫–ª–∞–¥–æ–∫ —Å CSS-–∞–Ω–∏–º–∞—Ü–∏–µ–π –∏ transitionend
    const tabs = document.querySelectorAll('.profile-main-tab-item');
    const tabContents = document.querySelectorAll('.profile-main-content-tab');

    tabs.forEach(tab => {
        tab.addEventListener('click', function(event) {
            event.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –µ—Å–ª–∏ —ç—Ç–æ —Å—Å—ã–ª–∫–∞

            const currentActiveTab = document.querySelector('.profile-main-tab-item.active-tab');
            const currentActiveContent = document.querySelector('.profile-main-content-tab.active-content');
            const targetTabId = this.getAttribute('data-tab');
            const newActiveContent = document.getElementById(targetTabId + 'Content');

            if (currentActiveTab === this || !newActiveContent) {
                return; 
            }

            // 1. –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–µ–π –≤–∫–ª–∞–¥–∫–∏ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–∑–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è)
            if (currentActiveTab) {
                currentActiveTab.classList.remove('active-tab');
            }
            
            if (currentActiveContent) {
                currentActiveContent.classList.remove('active-content');

                // 2. –û–∂–∏–¥–∞–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è
                currentActiveContent.addEventListener('transitionend', function handleTransitionEnd() {
                    // 3. –°–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–æ
                    this.style.display = 'none'; 

                    // 4. –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É –∏ –µ–µ –∫–æ–Ω—Ç–µ–Ω—Ç
                    tabs.forEach(t => t.classList.remove('active-tab')); // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞
                    tab.classList.add('active-tab');
                    
                    newActiveContent.style.display = 'flex'; // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º display –ø–µ—Ä–µ–¥ –∞–Ω–∏–º–∞—Ü–∏–µ–π
                    // –ò—Å–ø–æ–ª—å–∑—É–µ–º requestAnimationFrame –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏, —á—Ç–æ display –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∞—Å—Å–∞ –∞–Ω–∏–º–∞—Ü–∏–∏
                    requestAnimationFrame(() => {
                        newActiveContent.classList.add('active-content');
                    });

                    // –£–¥–∞–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫, —á—Ç–æ–±—ã –æ–Ω –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª —Å–Ω–æ–≤–∞
                    this.removeEventListener('transitionend', handleTransitionEnd);
                }, { once: true }); // {once: true} –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è
            } else {
                // –ï—Å–ª–∏ –Ω–µ –±—ã–ª–æ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –∏–ª–∏ –æ—à–∏–±–∫–µ)
                // –ü—Ä–æ—Å—Ç–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É –∏ –∫–æ–Ω—Ç–µ–Ω—Ç
                tabs.forEach(t => t.classList.remove('active-tab'));
                tab.classList.add('active-tab');
                
                newActiveContent.style.display = 'flex';
                requestAnimationFrame(() => {
                    newActiveContent.classList.add('active-content');
                });
            }
        });
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    function initializeActiveTab() {
        let initialActiveTab = document.querySelector('.profile-main-tab-item.active-tab');
        if (!initialActiveTab && tabs.length > 0) { // –ï—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–π, –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é
            initialActiveTab = tabs[0];
            initialActiveTab.classList.add('active-tab');
        }

        if (initialActiveTab) {
            const initialTargetTabId = initialActiveTab.getAttribute('data-tab');
            const initialActiveContent = document.getElementById(initialTargetTabId + 'Content');
            if (initialActiveContent) {
                tabContents.forEach(content => {
                    if (content !== initialActiveContent) {
                        content.style.display = 'none'; // –°–∫—Ä—ã–≤–∞–µ–º –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ —Å—Ä–∞–∑—É
                        content.classList.remove('active-content');
                    }
                });
                initialActiveContent.style.display = 'flex';
                // –î–æ–±–∞–≤–ª—è–µ–º active-content —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
                requestAnimationFrame(() => {
                     initialActiveContent.classList.add('active-content'); 
                });
            } else if (tabs.length > 0) { // –ï—Å–ª–∏ —É –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏ –Ω–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é
                initialActiveTab.classList.remove('active-tab');
                tabs[0].classList.add('active-tab');
                const firstTabId = tabs[0].getAttribute('data-tab');
                const firstContent = document.getElementById(firstTabId + 'Content');
                if (firstContent) {
                    tabContents.forEach(content => {
                        content.style.display = 'none';
                        content.classList.remove('active-content');
                    });
                    firstContent.style.display = 'flex';
                    requestAnimationFrame(() => {
                        firstContent.classList.add('active-content');
                    });
                }
            }
        }
    }
    initializeActiveTab(); // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

    const editBtn = document.getElementById('editProfileBtn');
    const profileViewBlock = document.getElementById('profileViewBlock');
    const profileEditBlock = document.getElementById('profileEditBlock');
    if (editBtn && profileViewBlock && profileEditBlock) {
        editBtn.addEventListener('click', function(e) {
            e.preventDefault();
            profileViewBlock.style.display = 'none';
            profileEditBlock.style.display = 'block';
        });
    }
    // –ö–Ω–æ–ø–∫–∞ "–û—á–∏—Å—Ç–∏—Ç—å" –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫ –ø—Ä–æ—Å–º–æ—Ç—Ä—É –ø—Ä–æ—Ñ–∏–ª—è
    const clearBtn = document.querySelector('.profile-edit-clear-btn');
    if (clearBtn) {
        clearBtn.addEventListener('click', function() {
            profileEditBlock.style.display = 'none';
            profileViewBlock.style.display = 'block';
        });
    }
});
</script>
{% endblock %}